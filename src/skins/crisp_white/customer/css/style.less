/* vim: set ts=2 sw=2 sts=2 et: */

/**
 * ____file_title____
 *
 * Copyright (c) 2011-present Qualiteam software Ltd. All rights reserved.
 * See https://www.x-cart.com/license-agreement.html for license details.
 */

@import "bootstrap-changes.less";
@import "bootstrap-responsive.less";

html {
  -webkit-font-smoothing: subpixel-antialiased;
}

/* General styles */

#name-and-slogan
{
  display: table-cell;
}

#logo, .company-logo {
  z-index: 2;
}

#logo, .company-logo,
#name-and-slogan
{
  vertical-align: middle;
}

#main-wrapper{
  position: relative;
  padding-bottom: (@rhythmic-unit * 2);
}

fieldset {
  margin-bottom: 1em;
  padding: 0.5em;

  legend {
    font-size: 20px;
    margin-top: 8px;
  }
}

form {
  margin: 0px;
  padding: 0px;
}

hr {
  border: 0px none;
  border-top: 1px solid @color-border;
  height: 0px;
}

img {
  border: 0px;
}

table {
  border: 0px;
  border-spacing: 0px;
  border-collapse: collapse;
}

.error {
  color: #8c2e0b;
}

.marker,
.form-required {
  color: #f00;
}

/**
 * Tables
 */

/* Sort arrows */

table {
  th {
  }

  .tablesort-indicator {
    background: url(../images/sort.png) no-repeat 0 6px;
    position: relative;
    left: 0;
    top: -2px;
    font-size: 14px;
    padding-left: 10px;
    margin-left: 4px;

    span {
      clip: rect(1px, 1px, 1px, 1px);
      position: absolute !important;
    }
  }

  .descending-order {
    background-position: 0 -19px;
  }
}

div.tabs .secondary a.active,
div.tabs .secondary span.active{
  .rounded(3px);
}

ul.primary li a,
ul.primary li span {

}


/* Product page */
.product-details-tabs {
  .clearfix();
  clear: both;
  padding-top: (4 * @rhythmic-unit);

  div.tabs ul.tabs {
    .tabs-top;
    li {
      a {
        border-color: @color-link;
        &:hover {
          border-color: @color-highlight;
        }
      }
      &.active {
        a {
          border-color: transparent
        }
      }
    }
  }
  div.tabs-container {
    .tabs-top-content;

    @media(max-width: @screen-xs-max) {
      padding-top: 0px;
    }
  }

  div.tab-container.hacky-container:first-child{
    display: block;
  }

  @media(max-width: @screen-xs-max) {
    .panel-group {
      width: 100vw;
      min-width: 320px;
      margin-left: (-@rhythmic-unit);
      border-bottom: 1px solid @color-border;
      margin-bottom: -1px;

      .panel {
        border: none;
        box-shadow: none;

        + .panel {
          margin-top: 0;
        }

        .panel-heading {
          color: inherit;
          background-color: inherit;
          border-top: 1px solid;
          border-color: @color-border;
          border-radius: 0;
          padding: @rhythmic-unit;
          height: (3 * @rhythmic-unit);

          &:hover {
            color: @color-hover;
          }

          .panel-title {
            color: @color-link;

            a:not(.collapsed) {
              color: @color-highlight;
            }

            a {
              .icon-plus;

              &:not(.collapsed){
                .icon-minus;
              }

              &:before {
                float: right;
                display: inline-block;
                font-size: @rhythmic-unit !important;
              }
            }

          }
        }

        .panel-body {
          color: inherit;
          background-color: inherit;
          border-top: none;
          border-color: @color-border;
          border-radius: 0;
          padding: @rhythmic-unit;
        }
      }
    }
  }
}

/*
	jQuery.mmenu CSS
*/

.mm-hidden {
  display: none !important;
}

.mm-wrapper {
  overflow-x: hidden;
  position: relative;
}

.mm-menu,
.mm-menu > .mm-panel {
  margin: 0;
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
  z-index: 0;
}

#slidebar {
  display: none;
}

#slidebar.mm-menu.mm-opened,
.mm-menu {
  background: @slidebar-bg;
  display: block;
  overflow: hidden;
  padding: 0;
}

.mm-panel {
  .transform(translate3d(100%, 0, 0));
  .transition(-webkit-transform 0.4s ease);

  &.mm-opened{
    .transform(translate3d(0%, 0, 0));
  }

  &.mm-subopened {
    .transform(translate3d(-30%, 0, 0));
  }

  &.mm-highest {
    z-index: 1;
  }
}


.mm-panel {
  .mm-navbar {
    display: none;
  }

  &.mm-hasnavbar .mm-navbar {
    display: block;
  }
}

.mm-menu {
  > .mm-panel {
    background: @body-bg;
    box-shadow: none;
    border-color: inherit;
    -webkit-overflow-scrolling: touch;
    overflow: scroll;
    overflow-x: hidden;
    overflow-y: auto;
    box-sizing: border-box;
    padding: 0 @rhythmic-unit;

    &:before,
    &:after{
      content: '';
      display: block;
      height: 20px;
    }

    > .mm-listview {
      margin: 20px -20px;
      font-weight: normal;
    }

    > .mm-listview:first-child,
    > .mm-navbar + .mm-listview{
      margin-top: 0px;
    }
  }
  .mm-listview a {
    color: @slidebar-links-color;
    &:hover {
      color: @mobile-menu-icons-hover;
    }
  }
  background: @navbar-inverse-bg;
  border-color: @slidebar-border-color;
  color: @slidebar-links-color;

  .mm-listview {
    border-color: @slidebar-border-color;
    float: none;

    > li{
      float: none;

      .mm-next:after,
      .mm-arrow:after {
        border-color: @slidebar-arrow-color;
        border-width: 1px;
        width: 10px;
        height: 10px;
      }

      &.mm-selected{
        > a:not(.mm-next),
        > span {
          background: rgba(255, 255, 255, 0.5);
        }
      }
    }
  }

  .mm-navbar {
    z-index: 2;
    &:hover {
      color: @mobile-menu-icons-hover;
      .mm-prev:before {
        border-color: @mobile-menu-icons-hover;
      }
    }
    .mm-close {
      @close-button-size: 20px;
      width: @close-button-size;
      height: @close-button-size;
      border: none;
      background: transparent;
      margin: 0;
      &:last-child {
        padding-right: @close-button-size;
      }
      &:before,
      &:after {
        position: absolute;
        left: 10px;
        top: 0px;
        content: ' ';
        height: 20px;
        width: 1px;
        background-color: #5b5c59;
      }
      &:before {
        transform: rotate(45deg);
      }
      &:after {
        transform: rotate(-45deg);
      }
      &:hover {
        &:before,
        &:after {
          background-color: @mobile-menu-icons-hover;
        }
      }
    }
    .mm-title {
      text-align: left;
      font-size: 14px;
      line-height: (@rhythmic-unit * 2);
      color: inherit;
    }
    .mm-btn:first-child {
      top: auto;
      left: 0;
      height: (@rhythmic-unit * 2);
    }
    .mm-btn:last-child {
      top: @rhythmic-unit;
      right: @rhythmic-unit;
    }
  }
}

.mm-menu {
  @mm-header-height: @rhythmic-unit * 3;

  &.first-opened {
    .mm-navbar {
      height: @mm-header-height;
      padding-top: (@mm-header-height - @rhythmic-unit);
    }
    & > .mm-panel {
      padding-top: (@mm-header-height - @rhythmic-unit);
    }
  }

  & {
    .mm-navbar {
      z-index: 2;
      height: @mm-header-height + (@rhythmic-unit * 2);
      padding-top: @mm-header-height;
    }
    & > .mm-panel {
      padding-top: @mm-header-height + @rhythmic-unit;
    }
  }
}

.additional-menu-wrapper {
  .mm-nolistview.additional-menu {
    padding: 0;
    li a{
      color: @color-text-default;
      font-size: 12px;
      font-weight: normal;
      line-height: @rhythmic-unit * 2;
      padding-right: @rhythmic-unit;
      &:before {
        display: none;
      }
      &:hover {
        color: @color-hover;
      }
    }
    .account-link-sign_in {
      padding-left: @rhythmic-unit * 2;
      margin-top: @rhythmic-unit;
    }
  }
}

.mm-vertical .mm-panel{
  .transform(none) !important;
}

.mm-vertical .mm-listview .mm-panel,
.mm-listview .mm-vertical .mm-panel {
  display: none;
  padding: 10px 0 10px 10px;

  .mm-listview > li:last-child:after{
    border-color: transparent;
  }
}

.mm-vertical li.mm-opened > .mm-panel,
li.mm-vertical.mm-opened > .mm-panel {
  display: block;
}

.mm-vertical .mm-listview > li > .mm-next,
.mm-listview > li.mm-vertical > .mm-next {
  height: 40px;
  bottom: auto;

  &:after{
    top: 16px;
    bottom: auto;
  }
}

.mm-vertical .mm-listview > li.mm-opened > .mm-next:after,
.mm-listview > li.mm-vertical.mm-opened > .mm-next:after {
  .transform(rotate(45deg));
}

.mm-navbar {
  border-bottom: none;
  background: @mobile-menu-bg;
  font-size: @slidebar-header-font-size;
  font-weight: @slidebar-header-font-weight;
  text-align: center;
  line-height: @mobile-menu-height;
  height: @mobile-menu-height;
  padding: 0 40px;
  margin: 0;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;

  > * {
    display: block;
  }

  .mm-title {
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }

  .mm-btn {
    box-sizing: border-box;
    width: 40px;
    height: 40px;
    position: absolute;
    top: 0;
    z-index: 1;

    &:first-child {
      padding-left: 20px;
      left: 0;
      height: @mobile-menu-height;
    }

    &:last-child {
      text-align: right;
      padding-right: 20px;
      right: 0;
    }
  }
}

.mm-listview{
  font: inherit;
  font-size: @slidebar-links-font-size;
  font-weight: @slidebar-links-font-weight;
  line-height: @font-size-h3;

  &,
  > li {
    list-style: none;
    display: block;
    padding: 0;
    margin: 0;
  }

  > li {
    position: relative;
    color: @slidebar-links-color;
    border-color: @slidebar-links-color;

    &,
    &:after,
    .mm-next,
    .mm-next:before{
      border-color: inherit;
    }

    > a,
    > span,
    .item-title {
      text-overflow: ellipsis;
      white-space: nowrap;
      overflow: hidden;
      color: inherit;
      display: block;
      padding: 0px 10px 0px (@rhythmic-unit * 2);
      margin: 0;
      font-size: @slidebar-links-font-size;
      line-height: @rhythmic-unit * 2;

      &:hover {
        background-color: transparent;
        color: inherit;
      }

      &.mm-arrow{
        padding-right: 50px;
      }
    }

    &:hover {
      color: @mobile-menu-icons-hover;

      .mm-next:after {
        border-color: @mobile-menu-icons-hover;
      }

      > a,
      > span {
        background-color: transparent;
        color: inherit;
      }
    }

    &:not(.mm-divider):after {
      content: '';
      border-bottom-width: 1px;
      border-bottom-style: solid;
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }
  }

  .mm-next {
    background: rgba(3, 2, 1, 0);
    width: 50px;
    padding: 0;
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    z-index: 2;

    &:before {
      content: '';
      border-left-width: 1px;
      border-left-style: solid;
      display: block;
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
    }

    + a,
    + span{
      margin-right: 50px;
    }

    &.mm-fullsubopen {
      width: 100%;

      &:before {
        border-left: none;
      }

      + a,
      + span{
        padding-right: 50px;
        margin-right: 0;
      }
    }
  }

  .mm-inset {
    list-style: inside disc;
    padding: 0 10px 15px 40px;
    margin: 0;

    > li {
      padding: 5px 0;
    }
  }

  .mm-divider {
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
    font-size: 10px;
    text-transform: uppercase;
    text-indent: 20px;
    line-height: 25px;
    height: 1px;
    margin: @rhythmic-unit;
    margin-bottom: @rhythmic-unit - 1;
  }

  .mm-spacer {
    padding-top: 40px;

    > .mm-next {
      top: 40px;
    }

    &.mm-divider {
      padding-top: 25px;
    }
  }
}

.mm-prev:before,
.mm-next:after,
.mm-arrow:after {
  content: '';
  border: 2px solid transparent;
  display: inline-block;
  width: 8px;
  height: 8px;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  .transform(rotate(-45deg));
}

.mm-prev:before {
  border-right: none;
  border-bottom: none;
  left: 20px;
}

.mm-next:after,
.mm-arrow:after {
  border-top: none;
  border-left: none;
  right: 28px;
}

.mm-menu .mm-navbar {
  > *,
  a {
    color: @slidebar-header-color;
  }

  .mm-btn:before,
  .mm-btn:after{
    border-color: @slidebar-back-arrow-color;
  }
}

.mm-menu.mm-vertical .mm-listview > li.mm-opened > a.mm-next,
.mm-menu.mm-vertical .mm-listview > li.mm-opened > .mm-panel,
.mm-menu .mm-listview > li.mm-opened.mm-vertical > a.mm-next,
.mm-menu .mm-listview > li.mm-opened.mm-vertical > .mm-panel {
  background: rgba(0, 0, 0, 0.05);
}

.mm-menu .mm-divider {
  background: rgba(0, 0, 0, 0.05);
}
/*
	jQuery.mmenu offcanvas addon CSS
*/
.mm-page {
  box-sizing: border-box;
  position: relative;
  min-height: 100%;
  overflow: hidden;
}

.mm-slideout {
  .transform(transform 0.4s ease);
}

html.mm-opened {
  overflow: hidden;
  position: relative;

  body {
    overflow: hidden;
  }
}

html.mm-background .mm-page {
  background: inherit;
}

#mm-blocker {
  background: rgba(3, 2, 1, 0.5);
  display: none;
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 999999;
}

.mm-pagedim #mm-blocker,
.mm-pagedim-black #mm-blocker,
.mm-pagedim-white #mm-blocker {
  opacity:0;
}

.mm-pagedim-black.mm-opening
#mm-blocker,
.mm-pagedim-white.mm-opening #mm-blocker,
.mm-pagedim.mm-opening #mm-blocker {
  opacity:.5;
}

.mm-opened #mm-blocker,
.mm-blocking #mm-blocker {
  display: block;
}

.mm-pagedim #mm-blocker{
  background:inherit
}

.mm-pagedim-black #mm-blocker{
  background:#000
}

.mm-menu{
  &.mm-offcanvas {
    display: none;
    position: fixed;
  }

  &.mm-current {
    display: block;
  }

  width: 80%;
  min-width: 140px;
  max-width: 320px;
}

html.mm-opening .mm-slideout {
  .transform(translate(80%, 0));
}

@media all and (max-width: 175px) {
  html.mm-opening .mm-slideout {
    .transform(translate(140px, 0));
  }
}

@media all and (min-width: 550px) {
  html.mm-opening .mm-slideout {
    .transform(translate(440px, 0));
  }
}

@media (max-width: 767px) {
  .flex-container {
    .flex-display();
    .flex-wrap(wrap);
    .flex-direction(column);
    -webkit-box-orient: vertical;
    -moz-box-orient: vertical;
    width: 100%;
    max-width: 100%;

    #sidebar-first {
      .flex-order(2);
    }

    #content {
      .flex-order(1);
    }

    #sidebar-second {
      .flex-order(3);
    }
  }

  #content,
  #sidebar-first,
  #sidebar-second {
    float: none !important;
    width: 100% !important;
  }
}

.ie11 .mm-opened + script + .mm-page .mobile_header ul.nav-pills {
  -webkit-transition: all 0.4s ease-out;
  -moz-transition: all 0.4s ease-out;
  -ms-transition: all 0.4s ease-out;
  -o-transition: all 0.4s ease-out;
  transition: all 0.4s ease-out;
}

@media (min-width: 484px) {
  .ie11 .mm-opened + script + .mm-page .mobile_header ul.nav-pills {
    left: 440px;
  }
}

@media (max-width: 483px) {
  .ie11 .mm-opened + script + .mm-page .mobile_header ul.nav-pills {
    left: 80%;
  }
}

@media (max-width: 991px) {
  .block.block-block.block-top-categories {
    display: none;
  }
  .target-order .sidebar {
    min-height: auto;
  }
  .target-order #content {
    width: 100% !important;
  }
}

.mm-listview .mm-inset > li {
  padding: 0px;
}

.settings {
  .item-title .mm-next {
    position: relative;
    display: inline-block;
    height: @rhythmic-unit * 2;
    float: right;
    margin-right: -(@rhythmic-unit);
    border-color: transparent;
  }
}

#settings-panel {
  @settings-text-color: #9b9b9b;

  &:before {
    height: @rhythmic-unit * 2;
  }

  .language-button-mobile {
    display: none;
  }

  select {
    border-color: @settings-text-color;
    margin-top: 0px;
  }
  .heading {
    font-size: 14px;
    color: @settings-text-color;
  }
}

.mm-menu {
  .mm-prev:before,
  .mm-next:after,
  .mm-arrow:after {
    border-color: @slidebar-arrow-color;
    border-width: 1px;
    width: 10px;
    height: 10px;
  }
  .mm-navbar .mm-prev:before {
    border-color: @slidebar-arrow-color;
  }
}

/**
 * Increase bottom padding for static pages
 */
.target-page #main-wrapper {
  padding-bottom: 180px;
}

/**
 * Common <p> style for static pages
 */
.target-page #content .page-body-content p {
  margin: 0 0 1em;
}
